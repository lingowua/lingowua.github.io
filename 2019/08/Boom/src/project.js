window.__require=function t(e,c,o){function i(s,a){if(!c[s]){if(!e[s]){var h=s.split("/");if(h=h[h.length-1],!e[h]){var r="function"==typeof __require&&__require;if(!a&&r)return r(h,!0);if(n)return n(h,!0);throw new Error("Cannot find module '"+s+"'")}}var d=c[s]={exports:{}};e[s][0].call(d.exports,function(t){return i(e[s][1][t]||t)},d,d.exports,t,e,c,o)}return c[s].exports}for(var n="function"==typeof __require&&__require,s=0;s<o.length;s++)i(o[s]);return i}({Game:[function(t,e,c){"use strict";cc._RF.push(e,"00887xf1s9MjbMf8ddX685Q","Game");var o=t("Player");t("boom"),t("Monster"),t("Monster"),t("Monster"),cc.Class({extends:cc.Component,properties:{boomFinY:21.1,boomPrefab:{default:null,type:cc.Prefab},flyPrefab:{default:null,type:cc.Prefab},clawPrefab:{default:null,type:cc.Prefab},jumpPrefab:{default:null,type:cc.Prefab},scoreAudio:{default:null,type:cc.AudioClip},leftTap:{default:null,type:cc.Node},rightTap:{default:null,type:cc.Node},player:{default:null,type:o},scoreDisplay:{default:null,type:cc.Label},btnNode:{default:null,type:cc.Node}},onLoad:function(){cc.director.getCollisionManager().enabled=!0,this.resetScore(),this.enabled=!0,this.btnNode.x=3e3,this.player.startGame(),this.schedule(function(){this.spawnEnemy()},2,cc.macro.REPEAT_FOREVER,1)},onStartGame:function(){},resetScore:function(){this.score=0,this.scoreDisplay.string="Score: "+this.score.toString()},gainScore:function(){this.score+=1,this.scoreDisplay.string="Score: "+this.score.toString(),cc.audioEngine.playEffect(this.scoreAudio,!1)},removeLeftTap:function(){this.leftTap.active=!1},removeRightTap:function(){this.rightTap.active=!1},spawnNewBoom:function(){var t=t=cc.instantiate(this.boomPrefab);t.setPosition(this.player.getCenterPos()),t.getComponent("boom").init(this);var e=this.node.width/5*2,c=cc.moveBy(.6,cc.v2(e,0)).easing(cc.easeCubicActionOut()),o=cc.moveBy(.6,cc.v2(-e,0)).easing(cc.easeCubicActionIn()),i=cc.moveBy(.6,cc.v2(-e,0)).easing(cc.easeCubicActionOut()),n=cc.moveBy(.6,cc.v2(e,0)).easing(cc.easeCubicActionIn()),s=cc.repeatForever(cc.sequence(c,o,i,n));t.runAction(s);var a=cc.rotateBy(1,360);t.runAction(cc.repeatForever(a));var h=cc.moveTo(12*(this.player.getCenterPos().y-this.boomFinY)/this.node.height,cc.v2(0,this.boomFinY));t.runAction(h),this.node.addChild(t)},spawnEnemy:function(t){switch(Math.floor(6*Math.random()+1)){case 1:this.leftFlyEnemy();break;case 2:this.rightFlyEnemy();break;case 3:this.leftJumpEnemy();break;case 4:this.rightJumpEnemy();break;case 5:this.leftClawEnemy();break;case 6:this.rightClawEnemy()}},leftFlyEnemy:function(){var t=this.node.width/12,e=Math.random()*t*2,c=cc.instantiate(this.flyPrefab);c.rotation=180,c.setPosition(cc.v2(-this.node.width/2,this.boomFinY+e)),c.getComponent("Monster").init(this),c.runAction(cc.moveBy(8,cc.v2(2*this.node.width,0)));var o=cc.delayTime(.1*Math.random()),i=cc.moveBy(.8,cc.v2(0,-t)),n=cc.moveBy(.8,cc.v2(0,t));c.runAction(cc.sequence(o,i,n,i,n,i,n)),this.node.addChild(c)},rightFlyEnemy:function(){var t=this.node.width/12,e=Math.random()*t*2,c=cc.instantiate(this.flyPrefab);c.setPosition(cc.v2(this.node.width/2,this.boomFinY+e)),c.getComponent("Monster").init(this),c.runAction(cc.moveBy(8,cc.v2(2*-this.node.width,0)));var o=cc.delayTime(.1*Math.random()),i=cc.moveBy(.8,cc.v2(0,-t)),n=cc.moveBy(.8,cc.v2(0,t));c.runAction(cc.sequence(o,i,n,i,n,i,n)),this.node.addChild(c)},leftJumpEnemy:function(){var t=cc.instantiate(this.jumpPrefab);t.setPosition(cc.v2(-this.node.width/2,-this.node.height/2+this.node.height/8)),t.getComponent("Monster").init(this);var e=cc.delayTime(.5*Math.random()),c=cc.jumpBy(8,cc.v2(2*this.node.width,0),this.node.height/2,10);t.runAction(cc.sequence(e,c)),this.node.addChild(t)},rightJumpEnemy:function(){var t=cc.instantiate(this.jumpPrefab);t.setPosition(cc.v2(this.node.width/2,-this.node.height/2+this.node.height/8)),t.getComponent("Monster").init(this);var e=cc.delayTime(.5*Math.random()),c=cc.jumpBy(8,cc.v2(2*-this.node.width,0),this.node.height/2,10);t.runAction(cc.sequence(e,c)),this.node.addChild(t)},leftClawEnemy:function(){var t=cc.instantiate(this.clawPrefab);t.setPosition(cc.v2(-this.node.width-this.node.width/21,-this.node.height/2+this.node.height/9)),t.getComponent("Monster").init(this);var e=cc.delayTime(.5*Math.random()),c=cc.moveBy(4,cc.v2(this.node.width,0)),o=cc.moveBy(1,cc.v2(0,this.node.height/2.45)),i=cc.moveBy(.5,cc.v2(this.node.width/11,0)),n=cc.moveBy(1,cc.v2(0,-this.node.height/2.45)),s=cc.moveBy(4,cc.v2(this.node.width,0)),a=cc.rotateBy(.2,90),h=cc.rotateBy(.2,-90);t.runAction(cc.sequence(e,c,h,o,a,i,a,n,h,s)),this.node.addChild(t)},rightClawEnemy:function(){var t=cc.instantiate(this.clawPrefab);t.setPosition(cc.v2(this.node.width+this.node.width/21,-this.node.height/2+this.node.height/9)),t.getComponent("Monster").init(this);var e=cc.delayTime(.5*Math.random()),c=cc.moveBy(4,cc.v2(-this.node.width,0)),o=cc.moveBy(1,cc.v2(0,this.node.height/2.45)),i=cc.moveBy(.5,cc.v2(-this.node.width/11,0)),n=cc.moveBy(1,cc.v2(0,-this.node.height/2.45)),s=cc.moveBy(4,cc.v2(-this.node.width,0)),a=cc.rotateBy(.2,-90),h=cc.rotateBy(.2,90);t.runAction(cc.sequence(e,c,h,o,a,i,a,n,h,s)),this.node.addChild(t)},update:function(t){},gameOver:function(){this.unscheduleAllCallbacks(),this.btnNode.x=300,this.leftTap.active=!0,this.rightTap.active=!0,cc.sys.localStorage.setItem("score",this.score.toString());var t=cc.sys.localStorage.getItem("maxScore"),e=parseInt(t);this.score>e&&cc.sys.localStorage.setItem("maxScore",this.score.toString()),cc.director.loadScene("gameOver")}});cc._RF.pop()},{Monster:"Monster",Player:"Player",boom:"boom"}],Monster:[function(t,e,c){"use strict";cc._RF.push(e,"43356mhHd1HbK3jA8zVf7KZ","Monster"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},init:function(t){this.game=t},onCollisionEnter:function(t,e){this.node.destroy(),this.game.gainScore()},update:function(t){0==this.node.getNumberOfRunningActions()&&this.node.destroy()}}),cc._RF.pop()},{}],Player:[function(t,e,c){"use strict";cc._RF.push(e,"fa248R8FGdFcZkBipybaC8i","Player"),cc.Class({extends:cc.Component,properties:{posX:1.6,posY:21.1,jumpHeight:220,jumpDuration:1.2,jumpAudio:{default:null,type:cc.AudioClip},shootAudio:{default:null,type:cc.AudioClip}},onLoad:function(){this.enabled=!1,this.game=this.node.parent.getComponent("Game")},startGame:function(){this.enabled=!0,this.leftTapVisible=!0,this.rightTapVisible=!0,this.node.setPosition(cc.v2(this.posX,this.posY)),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),cc.Canvas.instance.node.on("touchstart",this.onTouchStart,this),cc.Canvas.instance.node.on("touchend",this.onTouchEnd,this)},onDestroy:function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),cc.Canvas.instance.node.off("touchstart",this.onTouchStart,this),cc.Canvas.instance.node.off("touchend",this.onTouchEnd,this)},onKeyDown:function(t){switch(t.keyCode){case cc.macro.KEY.a:case cc.macro.KEY.left:this.jumpUpAction()}},onKeyUp:function(t){switch(t.keyCode){case cc.macro.KEY.d:case cc.macro.KEY.right:this.shootAction()}},onTouchStart:function(t){t.getLocation().x<cc.winSize.width/2&&this.jumpUpAction()},onTouchEnd:function(t){t.getLocation().x>=cc.winSize.width/2&&this.shootAction()},jumpUpAction:function(){if(this.leftTapVisible&&(this.game.removeLeftTap(),this.leftTapVisible=!1),0==this.node.getNumberOfRunningActions()){cc.audioEngine.playEffect(this.jumpAudio,!1);var t=cc.jumpBy(this.jumpDuration,cc.v2(0,0),this.jumpHeight,1);cc.callFunc(this.playJumpSound,this);this.node.runAction(t)}},shootAction:function(){this.rightTapVisible&&(this.game.removeRightTap(),this.rightTapVisible=!1),cc.audioEngine.playEffect(this.shootAudio,!1),this.game.spawnNewBoom()},getCenterPos:function(){return cc.v2(this.node.x,this.node.y)},stopMove:function(){this.node.destroy()},onCollisionEnter:function(t,e){this.node.stopAllActions(),this.onDestroy(),this.game.gameOver()},update:function(t){}}),cc._RF.pop()},{}],boom:[function(t,e,c){"use strict";cc._RF.push(e,"1aa07DlABFO+ZdhH7DQucnF","boom"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},init:function(t){this.game=t,cc.director.getCollisionManager().enabled=!1,this.scheduleOnce(function(){cc.director.getCollisionManager().enabled=!0},.001)},destroyIt:function(){this.node.destroy()},onCollisionEnter:function(t,e){this.node.destroy()}}),cc._RF.pop()},{}],gameOver:[function(t,e,c){"use strict";cc._RF.push(e,"bc8e2PDtu9Ht7PaHYC/HSvS","gameOver");cc.Class({extends:cc.Component,properties:{btnNode:{default:null,type:cc.Node},scoreDisplay:{default:null,type:cc.Label},highScoreDisplay:{default:null,type:cc.Label}},onLoad:function(){cc.director.preloadScene("game");var t=cc.sys.localStorage.getItem("score"),e=cc.sys.localStorage.getItem("maxScore");null==t&&(cc.sys.localStorage.setItem("score","0"),t=cc.sys.localStorage.getItem("score"),cc.sys.localStorage.setItem("maxScore","0"),e=cc.sys.localStorage.getItem("maxScore")),this.scoreDisplay.string="Score: "+t,this.highScoreDisplay.string="High Score: "+e},onStartGame:function(){cc.director.loadScene("game")}});cc._RF.pop()},{}]},{},["Game","Monster","Player","boom","gameOver"]);